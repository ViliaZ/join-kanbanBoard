<div class="sectionOne">

    <div class="user containerOne cardText">
        <h1 class="welcome">Welcome to Join</h1>
        <div>{{authService.user ? authService.user.displayName : 'User'}} | Full Access</div>
        <span class="date">Last Login: {{ authService.user ? (authService.user.lastlogin | date: 'MMM d') : (currentDate
            |  date: 'MMM d')}}</span>
        <!-- <span *ngIf="authService.user.isAnonymous || authService.user.isAnonymous == undefined " class="date">One-time{{ authService.user ? (authService.user.lastlogin | date: 'MMM d') : (currentDate |  date: 'MMM d')}}</span> -->

    </div>

    <div class="containerTwo">

        <!-- // new card -->
        <div class="card statistic convex">
            <div class="row">
                <div class="row-label">
                    <div>
                        Backlog
                    </div>
                    <div class="concave-small">{{ db.backlogtasks.length }}</div>
                </div>
                <div class="fullwidth concave">
                    <div class="bar" [ngStyle]="{'width': width.backlogTasks}">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="row-label">
                    <div>
                        On ToDo
                    </div>
                    <div class="concave-small"> {{ db.todoTasks.length }} </div>
                </div>
                <div class="fullwidth concave">
                    <div class="bar" [ngStyle]="{'width': width.toDoTasks}">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="row-label">
                    <div>
                        All Tasks
                    </div>
                    <div class="concave-small">{{ db.allTasks.length }}</div>
                </div>
                <div class="fullwidth concave">
                    <div class="bar" [ngStyle]="{'width': width.allTasks}">
                    </div>
                </div>
            </div>
        </div>

        <div class="cardRow">
            <!-- // new card -->
            <div class="card urgentTasks smallCard convex">
                <div class="icon">
                    <div class="icon-wrap ">
                        <img src="assets/img/urgent.svg" alt="urgent">
                    </div>
                </div>
                <div class="info">
                    <div>
                        {{ (db.urgentTasks.length >2) ? db.urgentTasks.length : '0'}}
                    </div>
                    <div class="infoText">
                        <span>Tasks</span>
                        <span>Urgent</span>
                    </div>
                </div>
            </div>
            <!-- // new card -->
            <div class="todayCard convex">
                    <span>2</span>
                    <div>Tuesday</div>
            </div>
        </div>

        <div class="cardRow">
     
            <!-- // new card -->
            <div class="todayCard convex">
                    <span>2</span>
                    <div>Tuesday</div>
            </div>
  

               <!-- // new card -->
               <div class="card urgentTasks smallCard convex">
                <div class="icon">
                    <div class="icon-wrap ">
                        <img src="assets/img/urgent.svg" alt="urgent">
                    </div>
                </div>
                <div class="info">
                    <div>
                        {{ (db.urgentTasks.length >2) ? db.urgentTasks.length : '0'}}
                    </div>
                    <div class="infoText">
                        <span>Tasks</span>
                        <span>Urgent</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- // new card -->

        <!-- <div class="card nextDueTask convex smallCard">
            <div class="icon">
                <div class="icon-wrap ">
                    <img src="assets/img/nextDue.svg" alt="nextDue">
                </div>
            </div>
            <div class="info"> -->
                <!-- Note: nextDueDateTasks.dueTo Times are converted in localtimestring in db service! no pipe necessary-->
                <!-- <div *ngIf="db.nextDueDateTasks.length !== 0">{{ db.nextDueDateTasks[0].dueTo || 'No Tasks'}} </div>
                <div *ngIf="db.nextDueDateTasks.length == 0">No Deadlines set </div>
                <div *ngIf="db.nextDueDateTasks.length !== 0"> Next Deadline</div>
            </div>

            <div class="taskDetails-onhover concave-btn">
                <div>Task Details:</div>
                <div><span>On Board:</span> {{ db.nextDueDateTasks.board }} </div>
                <div><span>Category:</span> {{ db.nextDueDateTasks.category }} </div>
                <div *ngIf="db.nextDueDates.length > 1"> +{{ db.nextDueDates.length }}further task(s)</div>
            </div>
        </div> -->


        <!-- <div class="cardText announcement">
                <div class="comingSoon">Coming Soon</div>
                <div> Invite Collegues & collaborate.</div>
            </div> -->

    </div>
</div>

<div class="sectionTwo">
    <div class="newTaskWrapper concave">
        <app-new-task class="taskContainer convex"></app-new-task>
    </div>
</div>