<div class="wrapper">
    <div class="sectionLeft">
        <!-- User Image -->
        <div class="user" *ngIf="hideMobileMenu">
            <img (mouseenter)="openSettings = true" (click)="toggleUserSubMenu()" src="assets/img/user.svg"
                alt="logout">

            <div *ngIf="openSettings" class="settingsContainer" (mouseenter)="openSettings = true"
                (mouseleave)="openSettings = false">

                <div class="settingContent">
                    <div class="name"> {{ this.authService.currentUser.displayName || 'Guest User' }}</div>
                    <div class="logout">
                        <a (click)="authService.logout()">Logout</a>
                        <!-- <img (click)="onLogout()" class="icon" src="assets/img/logout.png" alt="logout"> -->
                    </div>
                    <div>
                        <a routerLink="/imprint">Imprint</a>
                    </div>
                </div>

            </div>
        </div>

        <a *ngIf="hideMobileMenu" routerLink="/home" routerLinkActive="concave-btn"
            [routerLinkActiveOptions]="{ exact: true }">
            DASHBOARD
        </a>

        <a *ngIf="hideMobileMenu" routerLink="/backlog" routerLinkActive="concave-btn">
            BACKLOG
        </a>

        <a *ngIf="hideMobileMenu" routerLink="/board" routerLinkActive="concave-btn">
            BOARDS
        </a>

    </div>

    <div class="sectionRight">

        <!-- SEARCH AND FILTETR FOR BACKLOG  -->
        <div *ngIf="!db.backlogEmpty() && router.url.includes('backlog') && !hamburgerMenuOpen" class="backlogSettings">
            <div class="sortBy">
                <img (click)="handleBacklogSorting()" src="assets/img/sort.png" alt="sort icon">
            </div>

            <div class="container concave">
                <form (ngSubmit)="handleBacklogFiltering()">
                    <input [(ngModel)]="searchInput" (ngModelChange)="handleBacklogFiltering()" name="searchInput"
                        type="search" placeholder="SEARCH BACKLOG ...">
                    <button type="submit">Search</button>
                </form>
            </div>
        </div>



        <!-- INPUTFIELD NEW BOARD  -->
        <div (click)="expandInputfield = true" [class.concave]="expandInputfield" *ngIf="router.url.includes('board') && !hamburgerMenuOpen"
            class="newBoard">
            <form>
                <input [(ngModel)]="newBoardTitle" name="newBoardTitle" placeholder="+ NEW BOARD"
                    [class.expandAnimation]="expandInputfield" (blur)="expandInputfield=false" type="search"
                    minlength="2">
                <button type="submit" [class.expandAnimation]="expandInputfield"
                    (click)="handleNewBoardAdding(); stopPropagation($event)">
                    Add
                </button>
            </form>
        </div>

        <!-- Help Link -->
        <div>
            <div href="" class="info" *ngIf="router.url.includes('home') && hideMobileMenu">
                <span>Help</span>
                <img src="/assets/img/info.svg" alt="help">
            </div>
        </div>

        <!-- // Plus Button -->
        <div *ngIf="(router.url.includes('backlog') || router.url.includes('board')) && hideMobileMenu && !hamburgerMenuOpen"
            (click)="newTaskPopUp()" class="plus-wrapper">
            <span class="plus"></span>
        </div>

        <div *ngIf="!hideMobileMenu"  [class.isActive]="hamburgerMenuOpen"  class="hamburgerMenu">
            <label for="check" >
                <input type="checkbox" id="check" (click)="toggleHamburgerMenu()"/> 
                <span></span>
                <span></span>
                <span></span>
              </label>
        </div>

    </div>
</div>


<!-- ************** MOBILE VERSION *****************-->


<div class="wrapperMobile" *ngIf="!hideMobileMenu" [class.expand]="hamburgerMenuOpen" >
    <a routerLink="/home" (click)="hamburgerMenuOpen = false" routerLinkActive="concave-btn" [routerLinkActiveOptions]="{ exact: true }">
        DASHBOARD </a>
    <a routerLink="/backlog" (click)="hamburgerMenuOpen = false" routerLinkActive="concave-btn">
        BACKLOG</a>
    <a routerLink="/board" (click)="hamburgerMenuOpen = false" routerLinkActive="concave-btn">
        BOARDS</a>
    <a routerLink="/imprint" (click)="hamburgerMenuOpen = false">
        IMPRINT</a>
    <a class="logout" (click)="authService.logout()">
        <img src="/assets/img/logout.svg" alt="help">
        LOGOUT
    </a>
    <a class="help">
        <img src="/assets/img/info.svg" alt="help">
        HELP
    </a>
</div>